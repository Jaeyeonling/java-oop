# DIP

## 고수준 모듈, 저수준 모듈

* 고수준 모듈
  * 의미 있는 단일 기능을 제공
  * 상위 수준의 정책 구현
* 저수준 모듈
  * 고수준 모듈의 기능을 구현하기 위해 필요한 하위 기능의 실제 구현

## 예시

* 기능 예: 수정한 도면 이미지를 NAS에 저장하고 측정 정보를 DB 테이블에 저장하고 수정 의뢰 정보를 DB에 저장하는 기능
* 고수준
  * 도면 이미지를 저장하고
  * 측정 정보를 저장하고
  * 도면 수정 의뢰를 한다.
* 저수준
  * NAS에 이미지를 저장한다.
  * MEAS_INFO 테이블에 저장한다.
  * BP_MOD_REQ 테이블에 저장한다.

## 고수준이 저수준에 직접 의존하면

* 저수준 모듈 변경 -> 고수준 모듈에 영향
* 고수준 정책이 바뀌지 않았으나 저수준 구현 변경으로 코드 변경 발생

## DIP (Dependency Inversion Principle)

* 의존 역전 원칙
  * 고수준 모듈은 저수준 모듈의 구현에 의존하면 안된다
  * 저수준 모듈이 고수준 모듈에서 정의한 추상타입에 의존해야 한다
  * 의존의 방향을 역전시킨다

## 고수준 관점에서 추상화

* 고수준 입장에서 저수준 모듈을 추상화
  * 구현 입장에서 추상화하지 말 것

## DIP는 유연함을 높인다.

* 고수준 모듈의 변경을 최소화
* 저수준 모듈의 변경 유연함을 높임

## 부단한 추상화 노력 필요

* 처음부터 바로 좋은 설계가 나오기 힘들다.

* 요구사항/업무 이해가 높아지면서 저수준 모듈을 인지하고 상위 수준 관점에서 저수준 모듈에 대한 추상화 시도

